"use client";
import {signIn} from "next-auth/react";
import {useState} from "react";
import {Spin} from "antd";

export default () => {
    const [loading, setLoading] = useState<boolean>(false)
    const login = async () => {
        setLoading(true)
        await signIn("twitter", {callbackUrl: '/'})
    }
    return (
        <Spin spinning={loading}>
            <button
                className="mb-4 mx-auto flex rounded-md border border-gray-800 bg-black px-4 py-3 text-sm font-semibold text-neutral-200 transition-all hover:text-white"
                // eslint-disable-next-line @typescript-eslint/no-misused-promises
                onClick={login}
            >
                <svg className="icon" viewBox="0 0 1025 1024" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" p-id="6680" width="20" height="20">
                    <path
                        d="M321.828571 928.212916c386.354599 0 597.767515-320.22544 597.767515-597.767515 0-9.017613-0.200391-18.235616-0.601174-27.253229C960.075147 273.534247 995.744814 236.46184 1023.799609 194.379648c-37.673581 16.832877-78.152642 28.054795-120.635617 33.064579 43.28454-26.050881 76.749902-67.131115 92.380431-116.227006-40.679452 24.046967-85.567123 41.481018-133.460666 50.899413-38.274755-40.879843-92.981605-66.32955-153.299413-66.32955-116.026614 0-210.010176 94.183953-210.010176 210.010176 0 16.432094 1.803523 32.463405 5.410568 47.893542C329.643836 344.873581 174.741292 261.310372 71.138943 134.262231c-18.035225 31.060665-28.455577 67.131115-28.455577 105.606262 0 72.942466 37.072407 137.268102 93.582779 174.941683-34.467319-1.001957-66.930724-10.620744-95.18591-26.251272v2.605088c0 101.798826 72.341292 186.764775 168.529158 206.002349-17.634442 4.809393-36.270841 7.414481-55.308023 7.414481-13.426223 0-26.652055-1.40274-39.477104-3.807436 26.652055 83.563209 104.403914 144.2818 196.18317 145.884931-71.940509 56.30998-162.517417 89.975734-260.909589 89.975734-17.033268 0-33.665753-1.001957-50.097847-3.005871 92.781213 59.716634 203.196869 94.584736 321.828571 94.584736"
                        fill="#1DA1F2" p-id="6681"></path>
                </svg>
                <div className="ml-3">Sign in with Twitter</div>
            </button>
        </Spin>);
}
